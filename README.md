#android软键盘功能

##效果
    类似微信软键盘聊天页面的效果

##实现逻辑
    1、语音输入按钮、表情按钮、更多(加号)使用的是CheckBox，通过CheckBox的是否选中来决定弹起软键盘页面、表情页面、更多页面
    2、表情页面和更多页面使用的是两个fragment

##实现难点、遇到的问题

###表情/收藏页面的高度怎么测量?
    本实例中有两种方案:
    1、通过获取屏幕的高度、软键盘高度、部分机型虚拟按键栏的高度来测量
    2、通过添加addOnGlobalLayoutListener监听来动态获取
    第一个方案存在了一个问题，华为mat30pro手机测量的高度不准确，某些方法不执行
    第二个方案目前没发现问题，但需要注意的是，第一次下载安装的时候，最好弹出软键盘,这样得到的高度更准确。
    如果第一次通过给默认值来实现，那可能部分机型第一次的展示效果不好，但后来的展示效果均正常

###跳闪怎么解决？
    其实在切换软键盘的时候，最开始出现过跳闪，后来发现，是因为上面内容的高度没有固定所致，所以每次切换的时候，需要锁定高度
    具体实现方案请查阅本项目中的src/main/java/com/example/emotionproject/manager/KeyBoardManager.java

##本软键盘功能的优点
    1、可扩展性强:若想实现更多表情的分页，只需要在EmotionFragment.java中添加代码即可。如实现微信中的那种效果，可通过tablayout+viewpager来实现
    2、对主工程代码没有入侵性、耦合度低:在你需要的页面布局中添加<include layout="@layout/root_keyboard" />即可。再在java中通过build来引用


```原创不容易，转载请标明出处，不胜感激!如若遇到一些问题及bug，欢迎提出，我及时改正


    
    